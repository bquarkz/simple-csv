package com.bquarkz.simplecsv;

public final class CSVBuilder< BEAN >
{
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Constants
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Special Fields And Injections
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Fields
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    private final CSVImporterBuilder< BEAN > importerBuilder;
    private final CSVExporterBuilder< BEAN > exporterBuilder;

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Constructors
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    CSVBuilder( Class< BEAN > classBean, CSVAutoMapper autoMapper )
    {
        if( autoMapper == null )
        {
            autoMapper = new CSVBaseAutoMapper();
        }
        CSVParserAnnotation< BEAN > parser = new CSVParserAnnotation<>( classBean, autoMapper );
        this.importerBuilder = new CSVImporterBuilder<>( classBean, parser );
        this.exporterBuilder = new CSVExporterBuilder<>( parser );
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Factories
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    public static < BEAN > CSVImporterBuilder< BEAN > newImporter( Class< BEAN > classBean )
    {
        return new CSVBuilder<>( classBean, null ).importerBuilder;
    }

    public static < BEAN > CSVExporterBuilder< BEAN > newExporter( Class< BEAN > classBean )
    {
        return new CSVBuilder<>( classBean, null ).exporterBuilder;
    }

    public static < BEAN > CSVImporterBuilder< BEAN > newImporter( Class< BEAN > classBean, CSVAutoMapper autoMapper )
    {
        return new CSVBuilder<>( classBean, autoMapper ).importerBuilder;
    }

    public static < BEAN > CSVExporterBuilder< BEAN > newExporter( Class< BEAN > classBean, CSVAutoMapper autoMapper )
    {
        return new CSVBuilder<>( classBean, autoMapper ).exporterBuilder;
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Getters And Setters
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Methods
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Inner Classes And Patterns
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
}

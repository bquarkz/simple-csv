package com.bquarkz.simplecsv;

import java.math.BigDecimal;

import static com.bquarkz.simplecsv.CSVUtils.desembrace;

public class CSVBaseAutoMapper implements CSVAutoMapper
{
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Constants
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Special Fields And Injections
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Fields
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Constructors
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    public CSVBaseAutoMapper()
    {
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Factories
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Getters And Setters
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Methods
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    @Override
    public Object map( final Class< ? > type, final String delimitersContent, final String content )
    {
        final String extract = desembrace( delimitersContent, content );
        if( type == Integer.class )
        {
            return CSVAutoMapper.mapInteger( extract );
        }
        else if( type == Double.class )
        {
            return CSVAutoMapper.mapDouble( extract );
        }
        else if( type == Long.class )
        {
            return CSVAutoMapper.mapLong( extract );
        }
        else if( type == Float.class )
        {
            return CSVAutoMapper.mapFloat( extract );
        }
        else if( type == BigDecimal.class )
        {
            return CSVAutoMapper.mapBigDecimal( extract );
        }
        else if( type == String.class )
        {
            return CSVAutoMapper.mapString( extract );
        }
        else if( type == Boolean.class )
        {
            return CSVAutoMapper.mapBoolean( extract );
        }
        else
        {
            return extract; // by default return content as a String
        }
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Inner Classes And Patterns
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
}
